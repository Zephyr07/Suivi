<div class="container">
    <div style="margin-bottom: 20px">
        <div>
            <!--Premiere partie : description de l'événement-->
            <div class="row" style="margin-top: 25px;">
                <div class="col-lg-12 col-sm-12 col-md-12 " style="border-bottom: 1px solid #c0a261; padding: 0">
                    <h2 style="text-align: center"><span class="number main"></span>
                        <ff translate>Utilisateurs</ff>
                    </h2>
                </div>
                <div class="clear-fix"></div>
                <div class="row">
                    <div class="col-lg-6 col-sm-6" style="margin-top: 20px">
                        <h4>Liste des utilisateurs
                            <input type="text" style="width: 33%" placeholder="Recherche un utilisateur"
                                   ng-model="searchKey" class="form-control pull-right"/>
                        </h4>
                        <div class="form-group">
                            <div class="row-fluid">
                                <table class="table table-responsive">
                                    <thead>
                                        <th>Nom</th>
                                        <th>Email</th>
                                        <th>Ville</th>
                                        <th>Profil</th>
                                        <th>Actions</th>
                                    </thead>
                                    <tbody>
                                    <tr dir-paginate="u in utilisateurs |filter:searchKey| orderBy:'-nom':true| itemsPerPage: par_page ">
                                        <td>
                                            {{u.nom}}
                                        </td>
                                        <td>
                                            {{u.email}}
                                        </td>
                                        <td>
                                            {{u.ville}}
                                        </td>
                                        <td>
                                            {{u.profil.nom}}
                                        </td>
                                        <td>
                                            <span class="btn btn-primary" ng-click="editer_utilisateur(u)"><i class="fa fa-edit"></i></span>
                                            <span class="btn btn-primary" ng-click="supprimer_utilisateur(u)"><i class="fa fa-times"></i></span>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <form class="col-lg-6 col-sm-6" ng-if="action=='edit'" style="margin-top: 20px">
                        <h4>Ajoutr / Editer un utilisateur</h4>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label>
                                        <ff translate>Nom</ff>
                                        <span class="requis">*</span></label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    <input type="text" id="" ng-model="utilisateur.nom"
                                           placeholder="{{'Nom de l\'utilisateur'|translate}}" class="form-control"/>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Email </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    <input type="email" ng-model="utilisateur.email"
                                           placeholder="{{'Email utilisateur'|translate}}" class="form-control"/>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Mot de passe </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    <input type="password" ng-model="utilisateur.password"
                                           placeholder="{{'8 caractères minimum'|translate}}" class="form-control"/>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Ville </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    <select class="form-control" ng-model="utilisateur.ville"
                                            ng-options="v.value as v.name for v in villes|orderBy:'-value':true"
                                            >
                                        <option value="" disabled>Ville</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label translate>Profil
                                        <span class="requis">*</span></label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    <select ng-model="utilisateur.profil_id" class="form-control"
                                            ng-options="p.id as p.nom for p in profils|orderBy:'-nom':true"
                                    >
                                        <option value="" disabled>
                                            <ff translate>Sélectionner le profil</ff>
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="text-right end">
                                <button class="btn btn-primary" translate ng-click="enregistrer_utilisateur()">Enregistrer</button>
                            </div>
                        </div>
                    </form>
                    <div class="col-lg-6 col-sm-6" ng-if="action=='vue'" style="margin-top: 20px">
                        <h4>Détail d'un client</h4>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label>
                                        <ff translate>Nom</ff></label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.nom}}
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Téléphone </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.telephone}}
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Email </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.email}}
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Adresse </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.adresse}}
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Boîte Postale </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.boite_postale}}
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label for="" translate>Ville </label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.ville}}
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <label translate>Catégorie
                                        <span class="requis">*</span></label>
                                </div>
                                <div class="col-lg-7 col-sm-7 col-md-7">
                                    {{client.categorie.intitule}}
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="text-right end">
                                <button class="btn btn-primary" translate ng-click="afficher()">Fermer</button>
                            </div>
                        </div>
                    </div>

                    <div class="clearfix"></div>

                    <hr/>

                </div>

            </div>

        </div>


        <!--<hr/>-->
    </div>
</div>